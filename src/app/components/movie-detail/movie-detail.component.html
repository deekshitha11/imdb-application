<div class="detail-view-container">
    <app-loading *ngIf="loading"></app-loading>
    <div class="header-container d-flex flex-column" *ngIf="!loading && item">
        <div class="movie-info d-flex flex-column">
            <div class="movie-header">
                <h1 class="pt-5 pb-0">{{item.title}}</h1>
                <span>{{item.release_date | date: 'yyyy'}}</span>
                <span>{{item.runtime | m2h}}</span>
                <span><i class="bi bi-star-fill"></i>&nbsp;{{item.vote_average}}</span>
            </div>
            <div class="movie-footer">
                <p class="pt-3">{{item.overview}}</p>
                <button class="btn-trailer">Watch Trailer</button>
            </div>
        </div>
        <div class="movie-backdrop" [style.background-image]="getBackgroundUrl(item.backdrop_path)"></div>
    </div>
    <div class="carousel-container pt-5 pb-5" *ngIf="similarMovies && !loading">
        <h2>Similar Movies</h2>
        <p-carousel [value]="similarMovies!"
            [numVisible]="6" 
            [numScroll]="6" 
            [responsiveOptions]="responsiveOptions" 
            [showIndicators]="false">
            <ng-template let-movie pTemplate="item">
                <app-card [item]="movie" [type]="'movies'"></app-card>
            </ng-template>
        </p-carousel>
    </div>
</div>
